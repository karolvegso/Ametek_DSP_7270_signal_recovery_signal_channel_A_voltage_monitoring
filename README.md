# Ametek_DSP_7270_signal_recovery_signal_channel_A_voltage_monitoring
Ametek DSP 7270 lock-in amplifier - voltage reading using pyVISA and Python

This Python script opens a TCP-IP connection at a specific IP address and port 50000 with an Ametek DSP 7270 signal recovery lock-in amplifier. It sets the voltage mode for monitoring voltage values on Channel A. It sets the AC gain mode to manual and sets it to 0 dB. Then, the input connector is grounded (channel A), and the line frequency rejection filter is turned off. The auto phase is also switched on. The time constant is set to do the moving average on the measured voltage. In this case, TC has a value of 18, meaning the time constant is set to 10 seconds. You must check the table for the TC constant in the Ametek manual to adjust the time constant according to your signal period. The program then reads continuously in a while loop these signals: the magnitude, phase, X, Y, and frequency of the signal (MAG., PHA., X., Y., FRQ.). For reading values, it does not use the query command of pyVISA, but instead it, it uses ametek_inst.read_raw() comamnd. It reads some strange byte sequence. Then, my program decodes that byte sequence to the float number. Sometimes, this decoding crashes. Therefore, I am using the try / except approach in Python to avoid the crash of my program. The time constant TC command table is also attached to this repository. Enjoy AMETEk signal recovery. 
